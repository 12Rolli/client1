{"version":3,"sources":["backend.js"],"names":["submitForm","otp","document","getElementById","value","xhr","XMLHttpRequest","open","setRequestHeader","send","onreadystatechange","readyState","status","response","JSON","parse","responseText","console","log","$","ready","click","event","names","val","emails","tel","message","ajax","type","headers","Authorization","contentType","data","stringify","giftId","name","email","phone","note","success","error","errorMessage","addGiftBtn","shoplink","description","shopLink","jqXhr","textStatus"],"mappings":"AAAA,aAwDA,SAASA,aAEP,IAAIC,EAAMC,SAASC,eAAe,QAAQC,MAEtCC,EAAM,IAAIC,eACdD,EAAIE,KAAK,OACT,2FACC,GACDF,EAAIG,iBAAiB,eAAgB,qCAErCH,EAAII,KAAK,UAAYR,GAErBI,EAAIK,mBAAqB,WACvB,GAAuB,IAAnBL,EAAIM,YAAmC,MAAfN,EAAIO,OAAgB,CAE9C,IAAIC,EAAWC,KAAKC,MAAMV,EAAIW,cAC9BC,QAAQC,IAAIL,KAKlBM,EAAEjB,UAAUkB,OAAM,WAEhBD,EAAE,YAAYE,OAAM,SAAUC,GAC5B,IAAIC,EAAQJ,EAAE,YAAYK,MACtBC,EAASN,EAAE,cAAcK,MACzBE,EAAMP,EAAE,YAAYK,MACpBG,EAAUR,EAAE,aAAaK,MAC7BL,EAAES,KACA,uFACA,CACEC,KAAM,OACNC,QAAS,CACPC,cAAe,6yBAEjBC,YAAa,mBACbC,KAAMnB,KAAKoB,UAAU,CACnBC,OAAQ,uCACRC,KAAMb,EACNc,MAAOZ,EACPa,MAAOZ,EACPa,KAAMZ,IAERa,QAAS,SAAUP,EAAMrB,EAAQP,GAC/BY,QAAQC,IAAIe,GACZhB,QAAQC,IAAIN,IAGd6B,MAAO,SAAUR,EAAMrB,EAAQ8B,GAE7BzB,QAAQC,IAAIN,GACZK,QAAQC,IAAIwB,YAOtB,IAAIC,WAAazC,SAASC,eAAe,WACzCc,QAAQC,IAAIyB,YAEZxB,EAAE,YAAYE,OAAM,WAClB,IAAIe,EAAOlC,SAASC,eAAe,YAAYC,MAC3CwC,EAAW1C,SAASC,eAAe,YAAYC,MAE/CyC,GADQ3C,SAASC,eAAe,aAAaC,MAC/BF,SAASC,eAAe,mBAAmBC,OAC7De,EAAES,KAAK,0CAA2C,CAChDC,KAAM,OACNC,QAAS,CACPC,cACE,6yBAEJC,YAAa,mBACbC,KAAMnB,KAAKoB,UAAU,CACnBE,KAAMA,EACNU,SAAUF,EAEVC,YAAaA,IAEfL,QAAS,SAAUP,EAAMrB,EAAQP,GAC/BY,QAAQC,IAAIe,GACZhB,QAAQC,IAAIN,IAEd6B,MAAO,SAAUM,EAAOC,EAAYN,GAClCzB,QAAQC,IAAIwB","file":"backend.js","sourcesContent":["//////REQUETE POUR OBTENIR LE TOKEN\r\n// $.ajax({\r\n//   type: 'POST',\r\n//   url: 'https://dev-pc4dt6moi85ylvu1.au.auth0.com/oauth/token',\r\n//   contentType: 'application/json',\r\n//   data: JSON.stringify({\r\n//     client_id: 'AP9P7tpFsVcUFYA18YulbCUMoVaNZrzS',\r\n//     audience: 'https://e-wedding/api',\r\n//     grant_type: 'http://auth0.com/oauth/grant-type/password-realm',\r\n//     username: 'rdjomkam@yahoo.fr',\r\n//     password: '@Ugie3chu2010',\r\n//     realm: 'Username-Password-Authentication',\r\n//   }),\r\n//   success: function (data) {\r\n//     // Traitez les données de réponse ici, par exemple en stockant le jeton d'accès dans une variable\r\n//     var access_token = data.access_token\r\n//     // alert(access_token)\r\n//     console.log(access_token)\r\n//     // swal(access_token, \"success\");\r\n//   },\r\n//   error: function (jqXHR, textStatus, errorThrown) {\r\n//     // Traitez l'erreur ici\r\n//     console.log(textStatus, errorThrown)\r\n//   },\r\n// })\r\n\r\n//////Requete effectuer pour valider le code otp\r\n// $(document).ready(function () {\r\n//   // Lorsque le bouton \"Valider\" est cliqué\r\n//   $('#confirms').click(function (event) {\r\n//     let otpCode = $('#otps').val()\r\n//     $.ajax(\r\n//       'https://api.maji-zepa-love.com/api/gift/2aad8174-a836-4b9e-9136-d8ea129672bb/confirmOTP',\r\n//       {\r\n//         type: 'POST',\r\n//         headers: {\r\n//           Authorization: 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InpWdm9jejNBMXl3NmtOVkRfbElrayJ9.eyJyb2xlIjpbImFkbWluIiwiY29tbWVyY2lhbCJdLCJpc3MiOiJodHRwczovL2Rldi1wYzRkdDZtb2k4NXlsdnUxLmF1LmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2MzdhYTdlZDIyNmE2M2U3NWQ0NDI1YmQiLCJhdWQiOiJodHRwczovL2Utd2VkZGluZy9hcGkiLCJpYXQiOjE2NzM0MjU0NDksImV4cCI6MTY3MzUxMTg0OSwiYXpwIjoiQVA5UDd0cEZzVmNVRllBMThZdWxiQ1VNb1ZhTlpyelMiLCJndHkiOiJwYXNzd29yZCIsInBlcm1pc3Npb25zIjpbIndyaXRlOmdpZnQiLCJ3cml0ZTppbWFnZSJdfQ.ZLqBRz6Mu2wC3cumctH6HyCQQ_K8c8u1awM82pdd8BjR5m41pinfK5S91jr9SDYd8ZX0eZdHxEkI2rF1bJNXj4GnNEERQ9TEJZeMjSpWmAYnZr9llU5LBKu_6HTwvW9kMYxBSmxHLj78Ll3CKMBL_946ZDZtsW2c5pPzon2H-zLx7IA1IoMYF2BPfGEoGaMDgl0xKkb8zAChKQJZT3isesQkg63fBiwq8SVvyDbPbhylX6FI_IGUMrWH5yzOQkKCYk8kYC9nVmCZ8NehWZkiKCWchd6GUOQeKvJId1a96jOhB-k3-ygP38v-fJ6zmoPkXhmk5s4fI5r11Mvwx5Kxeg',\r\n//         },\r\n//         contentType: 'application/json',\r\n//         data: JSON.stringify({\r\n//           otp: otpCode,\r\n//         }),\r\n//         success: function (data, status, xhr) {\r\n//           console.log(data)\r\n//           console.log(status)\r\n//           swal(\"Good job!\", data, \"success\");\r\n//           // swal(\"Good job!\", status, \"success\");\r\n//         },\r\n//         error: function (data, status, errorMessage) {\r\n//           swal(\"Fail job!\", errorMessage, \"error\");\r\n//           console.log(errorMessage)\r\n//         },\r\n//       },\r\n//     )\r\n//   })\r\n// })\r\nfunction submitForm() {\r\n  // Récupération de la valeur de l'input\r\n  var otp = document.getElementById(\"otps\").value;\r\n  // Préparation de la requête\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \r\n  \"https://api.maji-zepa-love.com/api/gift/70da35d1-fea8-464e-a781-c33900fd6e79/confirmOTP\",\r\n   true);\r\n  xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n  // Envoi de la requête avec les données du formulaire\r\n  xhr.send(\"number=\" + otp);\r\n  // Gestion de la réponse\r\n  xhr.onreadystatechange = function() {\r\n    if (xhr.readyState === 4 && xhr.status === 200) {\r\n      // Traitement de la réponse\r\n      var response = JSON.parse(xhr.responseText);\r\n      console.log(response);\r\n    }\r\n  }\r\n}\r\n// ////Envoi de la requête Ajax pour enregistrer l'email de celui qui veut reserver\r\n$(document).ready(function () {\r\n  // Lorsque le bouton \"Achetez Le Produit\" est cliqué\r\n  $('#submits').click(function (event) {\r\n    let names = $('#nompers').val()\r\n    let emails = $('#emailpers').val()\r\n    let tel = $('#numpers').val()\r\n    let message = $('#notepers').val()\r\n    $.ajax(\r\n      'https://api.maji-zepa-love.com/api/gift/70da35d1-fea8-464e-a781-c33900fd6e79/reserve',\r\n      {\r\n        type: 'POST',\r\n        headers: {\r\n          Authorization: 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InpWdm9jejNBMXl3NmtOVkRfbElrayJ9.eyJyb2xlIjpbImFkbWluIiwiY29tbWVyY2lhbCJdLCJpc3MiOiJodHRwczovL2Rldi1wYzRkdDZtb2k4NXlsdnUxLmF1LmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2MzdhYTdlZDIyNmE2M2U3NWQ0NDI1YmQiLCJhdWQiOiJodHRwczovL2Utd2VkZGluZy9hcGkiLCJpYXQiOjE2NzM0MjU0NDksImV4cCI6MTY3MzUxMTg0OSwiYXpwIjoiQVA5UDd0cEZzVmNVRllBMThZdWxiQ1VNb1ZhTlpyelMiLCJndHkiOiJwYXNzd29yZCIsInBlcm1pc3Npb25zIjpbIndyaXRlOmdpZnQiLCJ3cml0ZTppbWFnZSJdfQ.ZLqBRz6Mu2wC3cumctH6HyCQQ_K8c8u1awM82pdd8BjR5m41pinfK5S91jr9SDYd8ZX0eZdHxEkI2rF1bJNXj4GnNEERQ9TEJZeMjSpWmAYnZr9llU5LBKu_6HTwvW9kMYxBSmxHLj78Ll3CKMBL_946ZDZtsW2c5pPzon2H-zLx7IA1IoMYF2BPfGEoGaMDgl0xKkb8zAChKQJZT3isesQkg63fBiwq8SVvyDbPbhylX6FI_IGUMrWH5yzOQkKCYk8kYC9nVmCZ8NehWZkiKCWchd6GUOQeKvJId1a96jOhB-k3-ygP38v-fJ6zmoPkXhmk5s4fI5r11Mvwx5Kxeg',\r\n        },\r\n        contentType: 'application/json',\r\n        data: JSON.stringify({\r\n          giftId: '70da35d1-fea8-464e-a781-c33900fd6e79',\r\n          name: names,\r\n          email: emails,\r\n          phone: tel,\r\n          note: message,\r\n        }),\r\n        success: function (data, status, xhr) {\r\n          console.log(data)\r\n          console.log(status)\r\n          // swal(\"Good job!\",\"\",\"success\");\r\n        },\r\n        error: function (data, status, errorMessage) {\r\n          // swal(\"Fail job!\",\"\",\"error\");\r\n          console.log(status)\r\n          console.log(errorMessage)\r\n        },\r\n      },\r\n    )\r\n  })\r\n})\r\n\r\nlet addGiftBtn = document.getElementById('addgift')\r\nconsole.log(addGiftBtn)\r\n\r\n$('#addgift').click(function () {\r\n  let name = document.getElementById('namegift').value\r\n  let shoplink = document.getElementById('linkgift').value\r\n  let price = document.getElementById('pricegift').value\r\n  let description = document.getElementById('descriptiongift').value\r\n  $.ajax('https://api.maji-zepa-love.com/api/gift', {\r\n    type: 'POST', // http method\r\n    headers: {\r\n      Authorization:\r\n        'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InpWdm9jejNBMXl3NmtOVkRfbElrayJ9.eyJyb2xlIjpbImFkbWluIiwiY29tbWVyY2lhbCJdLCJpc3MiOiJodHRwczovL2Rldi1wYzRkdDZtb2k4NXlsdnUxLmF1LmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2MzdhYTdlZDIyNmE2M2U3NWQ0NDI1YmQiLCJhdWQiOiJodHRwczovL2Utd2VkZGluZy9hcGkiLCJpYXQiOjE2NzE2Mzc4NTEsImV4cCI6MTY3MTcyNDI1MSwiYXpwIjoiQVA5UDd0cEZzVmNVRllBMThZdWxiQ1VNb1ZhTlpyelMiLCJndHkiOiJwYXNzd29yZCIsInBlcm1pc3Npb25zIjpbIndyaXRlOmdpZnQiLCJ3cml0ZTppbWFnZSJdfQ.dzrZmEYHLSSnEmz0NBGHIvE5Ca3o3aBqJDpMNyUpsLHURcuIUSNKy9PnxQ3bBHoeF74Atqs1YG3LU4OiJjak0K3j142bM14FoZsUKUFhmY-trkuRZ3dQgvOysMC4x8hLGnnAcuocZhbFIGZCRUz7dKkfariVqdbQodrxTWhMnS9xVPruv01j3uRvBQdWtjkhhgG6aCiVGyrI5n57O9z3HVb5J27qEvaxdVvI2ZMW1DFAJlpO3R80kUAVag8tnjBRSQ7c3LjS0XuqJ-DliClbr0vU19mg4VVeDsTHYkKPibiD75cQlUsKFhlQAYfVkG8rVhJcPGZ7-R1njV7iPe9Hdg',\r\n    },\r\n    contentType: 'application/json',\r\n    data: JSON.stringify({\r\n      name: name,\r\n      shopLink: shoplink,\r\n      // price: price,\r\n      description: description,\r\n    }),\r\n    success: function (data, status, xhr) {\r\n      console.log(data)\r\n      console.log(status)\r\n    },\r\n    error: function (jqXhr, textStatus, errorMessage) {\r\n      console.log(errorMessage)\r\n    },\r\n  })\r\n})\r\n"]}